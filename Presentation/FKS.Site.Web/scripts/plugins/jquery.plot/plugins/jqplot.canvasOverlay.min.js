/*! fks 07-07-2014 */
!function(a){function b(){this.uid=null,this.type=null,this.gridStart=null,this.gridStop=null,this.tooltipWidthFactor=0,this.options={name:null,show:!0,lineWidth:2,lineCap:"round",color:"#666666",shadow:!0,shadowAngle:45,shadowOffset:1,shadowDepth:3,shadowAlpha:"0.07",xaxis:"xaxis",yaxis:"yaxis",showTooltip:!1,showTooltipPrecision:.6,tooltipLocation:"nw",fadeTooltip:!0,tooltipFadeSpeed:"fast",tooltipOffset:4,tooltipFormatString:"%d, %d"}}function c(c){b.call(this),this.type="rectangle";var d={xmin:null,xmax:null,xOffset:"6px",xminOffset:null,xmaxOffset:null,ymin:null,ymax:null,yOffset:"6px",yminOffset:null,ymaxOffset:null};a.extend(!0,this.options,d,c),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function d(c){b.call(this),this.type="line";var d={start:[],stop:[]};a.extend(!0,this.options,d,c),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function e(c){b.call(this),this.type="horizontalLine";var d={y:null,xmin:null,xmax:null,xOffset:"6px",xminOffset:null,xmaxOffset:null};a.extend(!0,this.options,d,c),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function f(c){b.call(this),this.type="dashedHorizontalLine";var d={y:null,xmin:null,xmax:null,xOffset:"6px",xminOffset:null,xmaxOffset:null,dashPattern:[8,8]};a.extend(!0,this.options,d,c),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function g(c){b.call(this),this.type="verticalLine";var d={x:null,ymin:null,ymax:null,yOffset:"6px",yminOffset:null,ymaxOffset:null};a.extend(!0,this.options,d,c),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function h(c){b.call(this),this.type="dashedVerticalLine",this.start=null,this.stop=null;var d={x:null,ymin:null,ymax:null,yOffset:"6px",yminOffset:null,ymaxOffset:null,dashPattern:[8,8]};a.extend(!0,this.options,d,c),this.options.showTooltipPrecision<.01&&(this.options.showTooltipPrecision=.01)}function i(b,c,d,e){var f,g,h=b.plugins.canvasOverlay,i=h._tooltipElem,j=c.options;switch(i.html(a.jqplot.sprintf(j.tooltipFormatString,e[0],e[1])),j.tooltipLocation){case"nw":f=d[0]+b._gridPadding.left-i.outerWidth(!0)-j.tooltipOffset,g=d[1]+b._gridPadding.top-j.tooltipOffset-i.outerHeight(!0);break;case"n":f=d[0]+b._gridPadding.left-i.outerWidth(!0)/2,g=d[1]+b._gridPadding.top-j.tooltipOffset-i.outerHeight(!0);break;case"ne":f=d[0]+b._gridPadding.left+j.tooltipOffset,g=d[1]+b._gridPadding.top-j.tooltipOffset-i.outerHeight(!0);break;case"e":f=d[0]+b._gridPadding.left+j.tooltipOffset,g=d[1]+b._gridPadding.top-i.outerHeight(!0)/2;break;case"se":f=d[0]+b._gridPadding.left+j.tooltipOffset,g=d[1]+b._gridPadding.top+j.tooltipOffset;break;case"s":f=d[0]+b._gridPadding.left-i.outerWidth(!0)/2,g=d[1]+b._gridPadding.top+j.tooltipOffset;break;case"sw":f=d[0]+b._gridPadding.left-i.outerWidth(!0)-j.tooltipOffset,g=d[1]+b._gridPadding.top+j.tooltipOffset;break;case"w":f=d[0]+b._gridPadding.left-i.outerWidth(!0)-j.tooltipOffset,g=d[1]+b._gridPadding.top-i.outerHeight(!0)/2;break;default:f=d[0]+b._gridPadding.left-i.outerWidth(!0)-j.tooltipOffset,g=d[1]+b._gridPadding.top-j.tooltipOffset-i.outerHeight(!0)}i.css("left",f),i.css("top",g),j.fadeTooltip?i.stop(!0,!0).fadeIn(j.tooltipFadeSpeed):i.show(),i=null}function j(a,b,c,d){var e=a[0],f=a[1],g=Math.round(c[0]),h=Math.round(c[1]),i=Math.round(b[0]),j=Math.round(b[1]),k=Math.sqrt(Math.pow(g-i,2)+Math.pow(h-j,2)),l=d*k,m=Math.abs((i-g)*(f-h)-(j-h)*(e-g)),n=l>m?!0:!1;return n}function k(a,b,c){var d,e=a[0],f=a[1],g=Math.round(c[0]),h=Math.round(c[1]),i=Math.round(b[0]),j=Math.round(b[1]);g>i&&(d=g,g=i,i=d),h>j&&(d=h,h=j,j=d);var k=e>=g&&i>=e&&f>=h&&j>=f;return k}function l(a,b,c,d,e){for(var f,g,h=e.plugins.canvasOverlay,l=h.objects,m=l.length,n=!1,o=0;m>o;o++)if(f=l[o],f.options.showTooltip){var p;if(p="rectangle"===f.type?k([b.x,b.y],f.gridStart,f.gridStop,f.tooltipWidthFactor):j([b.x,b.y],f.gridStart,f.gridStop,f.tooltipWidthFactor),c=[e.axes[f.options.xaxis].series_p2u(b.x),e.axes[f.options.yaxis].series_p2u(b.y)],p&&null==h.highlightObjectIndex){switch(f.type){case"line":i(e,f,[b.x,b.y],c);break;case"horizontalLine":case"dashedHorizontalLine":i(e,f,[b.x,f.gridStart[1]],[c[0],f.options.y]);break;case"verticalLine":case"dashedVerticalLine":i(e,f,[f.gridStart[0],b.y],[f.options.x,c[1]]);break;case"rectangle":i(e,f,[f.gridStart[0],b.y],[f.options.x,c[1]])}h.highlightObjectIndex=o,n=!0;break}if(p&&h.highlightObjectIndex!==o){switch(g=h._tooltipElem,f.fadeTooltip?g.fadeOut(f.tooltipFadeSpeed):g.hide(),f.type){case"line":i(e,f,[b.x,b.y],c);break;case"horizontalLine":case"dashedHorizontalLine":i(e,f,[b.x,f.gridStart[1]],[c[0],f.options.y]);break;case"verticalLine":case"dashedVerticalLine":i(e,f,[f.gridStart[0],b.y],[f.options.x,c[1]]);break;case"rectangle":i(e,f,[f.gridStart[0],b.y],[f.options.x,c[1]])}h.highlightObjectIndex=o,n=!0;break}if(p){switch(f.type){case"line":i(e,f,[b.x,b.y],c);break;case"horizontalLine":case"dashedHorizontalLine":i(e,f,[b.x,f.gridStart[1]],[c[0],f.options.y]);break;case"verticalLine":case"dashedVerticalLine":i(e,f,[f.gridStart[0],b.y],[f.options.x,c[1]]);break;case"rectangle":i(e,f,[f.gridStart[0],b.y],[f.options.x,c[1]])}n=!0;break}}n||null===h.highlightObjectIndex||(g=h._tooltipElem,f=h.getObject(h.highlightObjectIndex),f.fadeTooltip?g.fadeOut(f.tooltipFadeSpeed):g.hide(),h.highlightObjectIndex=null)}var m=0;a.jqplot.CanvasOverlay=function(b){var c=b||{};if(this.options={show:a.jqplot.config.enablePlugins,deferDraw:!1},this.objects=[],this.objectNames=[],this.canvas=null,this.markerRenderer=new a.jqplot.MarkerRenderer({style:"line"}),this.markerRenderer.init(),this.highlightObjectIndex=null,c.objects)for(var d,e=c.objects,f=0;f<e.length;f++){d=e[f];for(var g in d)switch(g){case"line":this.addLine(d[g]);break;case"horizontalLine":this.addHorizontalLine(d[g]);break;case"dashedHorizontalLine":this.addDashedHorizontalLine(d[g]);break;case"verticalLine":this.addVerticalLine(d[g]);break;case"dashedVerticalLine":this.addDashedVerticalLine(d[g]);break;case"rectangle":this.addRectangle(d[g])}}a.extend(!0,this.options,c)},a.jqplot.CanvasOverlay.postPlotInit=function(b,c,d){var e=d||{};this.plugins.canvasOverlay=new a.jqplot.CanvasOverlay(e.canvasOverlay)},c.prototype=new b,c.prototype.constructor=c,d.prototype=new b,d.prototype.constructor=d,e.prototype=new b,e.prototype.constructor=e,f.prototype=new b,f.prototype.constructor=f,g.prototype=new b,g.prototype.constructor=g,h.prototype=new b,h.prototype.constructor=h,a.jqplot.CanvasOverlay.prototype.addLine=function(a){var b=new d(a);b.uid=m++,this.objects.push(b),this.objectNames.push(b.options.name)},a.jqplot.CanvasOverlay.prototype.addHorizontalLine=function(a){var b=new e(a);b.uid=m++,this.objects.push(b),this.objectNames.push(b.options.name)},a.jqplot.CanvasOverlay.prototype.addDashedHorizontalLine=function(a){var b=new f(a);b.uid=m++,this.objects.push(b),this.objectNames.push(b.options.name)},a.jqplot.CanvasOverlay.prototype.addVerticalLine=function(a){var b=new g(a);b.uid=m++,this.objects.push(b),this.objectNames.push(b.options.name)},a.jqplot.CanvasOverlay.prototype.addDashedVerticalLine=function(a){var b=new h(a);b.uid=m++,this.objects.push(b),this.objectNames.push(b.options.name)},a.jqplot.CanvasOverlay.prototype.addRectangle=function(a){var b=new c(a);b.uid=m++,this.objects.push(b),this.objectNames.push(b.options.name)},a.jqplot.CanvasOverlay.prototype.removeObject=function(b){if("number"==a.type(b))this.objects.splice(b,1),this.objectNames.splice(b,1);else{var c=a.inArray(b,this.objectNames);-1!=c&&(this.objects.splice(c,1),this.objectNames.splice(c,1))}},a.jqplot.CanvasOverlay.prototype.getObject=function(b){if("number"==a.type(b))return this.objects[b];var c=a.inArray(b,this.objectNames);return-1!=c?this.objects[c]:void 0},a.jqplot.CanvasOverlay.prototype.get=a.jqplot.CanvasOverlay.prototype.getObject,a.jqplot.CanvasOverlay.prototype.clear=function(){this.canvas._ctx.clearRect(0,0,this.canvas.getWidth(),this.canvas.getHeight())},a.jqplot.CanvasOverlay.prototype.draw=function(b){var c,d,e,f=this.objects,g=this.markerRenderer;if(this.options.show){this.canvas._ctx.clearRect(0,0,this.canvas.getWidth(),this.canvas.getHeight());for(var h=0;h<f.length;h++){c=f[h];var i=a.extend(!0,{},c.options);if(c.options.show)switch(g.shadow=c.options.shadow,c.tooltipWidthFactor=c.options.lineWidth/c.options.showTooltipPrecision,c.type){case"line":g.style="line",i.closePath=!1,d=[b.axes[c.options.xaxis].series_u2p(c.options.start[0]),b.axes[c.options.yaxis].series_u2p(c.options.start[1])],e=[b.axes[c.options.xaxis].series_u2p(c.options.stop[0]),b.axes[c.options.yaxis].series_u2p(c.options.stop[1])],c.gridStart=d,c.gridStop=e,g.draw(d,e,this.canvas._ctx,i);break;case"horizontalLine":if(null!=c.options.y){g.style="line",i.closePath=!1;var j,k,l=b.axes[c.options.xaxis],m=b.axes[c.options.yaxis].series_u2p(c.options.y),n=c.options.xminOffset||c.options.xOffset,o=c.options.xmaxOffset||c.options.xOffset;null!=c.options.xmin?j=l.series_u2p(c.options.xmin):null!=n&&("number"==a.type(n)?j=l.series_u2p(l.min+n):"string"==a.type(n)&&(j=l.series_u2p(l.min)+parseFloat(n))),null!=c.options.xmax?k=l.series_u2p(c.options.xmax):null!=o&&("number"==a.type(o)?k=l.series_u2p(l.max-o):"string"==a.type(o)&&(k=l.series_u2p(l.max)-parseFloat(o))),null!=k&&null!=j&&(c.gridStart=[j,m],c.gridStop=[k,m],g.draw([j,m],[k,m],this.canvas._ctx,i))}break;case"dashedHorizontalLine":for(var p=c.options.dashPattern,q=0,r=0;r<p.length;r++)q+=p[r];if(null!=c.options.y){g.style="line",i.closePath=!1;var j,k,l=b.axes[c.options.xaxis],m=b.axes[c.options.yaxis].series_u2p(c.options.y),n=c.options.xminOffset||c.options.xOffset,o=c.options.xmaxOffset||c.options.xOffset;if(null!=c.options.xmin?j=l.series_u2p(c.options.xmin):null!=n&&("number"==a.type(n)?j=l.series_u2p(l.min+n):"string"==a.type(n)&&(j=l.series_u2p(l.min)+parseFloat(n))),null!=c.options.xmax?k=l.series_u2p(c.options.xmax):null!=o&&("number"==a.type(o)?k=l.series_u2p(l.max-o):"string"==a.type(o)&&(k=l.series_u2p(l.max)-parseFloat(o))),null!=k&&null!=j){c.gridStart=[j,m],c.gridStop=[k,m];for(var s,t=Math.ceil((k-j)/q),u=j,r=0;t>r;r++)for(var v=0;v<p.length;v+=2)s=u+p[v],g.draw([u,m],[s,m],this.canvas._ctx,i),u+=p[v],v<p.length-1&&(u+=p[v+1])}}break;case"verticalLine":if(null!=c.options.x){g.style="line",i.closePath=!1;var w,x,y=b.axes[c.options.yaxis],z=b.axes[c.options.xaxis].series_u2p(c.options.x),A=c.options.yminOffset||c.options.yOffset,B=c.options.ymaxOffset||c.options.yOffset;null!=c.options.ymin?w=y.series_u2p(c.options.ymin):null!=A&&("number"==a.type(A)?w=y.series_u2p(y.min-A):"string"==a.type(A)&&(w=y.series_u2p(y.min)-parseFloat(A))),null!=c.options.ymax?x=y.series_u2p(c.options.ymax):null!=B&&("number"==a.type(B)?x=y.series_u2p(y.max+B):"string"==a.type(B)&&(x=y.series_u2p(y.max)+parseFloat(B))),null!=x&&null!=w&&(c.gridStart=[z,w],c.gridStop=[z,x],g.draw([z,w],[z,x],this.canvas._ctx,i))}break;case"dashedVerticalLine":for(var p=c.options.dashPattern,q=0,r=0;r<p.length;r++)q+=p[r];if(null!=c.options.x){g.style="line",i.closePath=!1;var w,x,y=b.axes[c.options.yaxis],z=b.axes[c.options.xaxis].series_u2p(c.options.x),A=c.options.yminOffset||c.options.yOffset,B=c.options.ymaxOffset||c.options.yOffset;if(null!=c.options.ymin?w=y.series_u2p(c.options.ymin):null!=A&&("number"==a.type(A)?w=y.series_u2p(y.min-A):"string"==a.type(A)&&(w=y.series_u2p(y.min)-parseFloat(A))),null!=c.options.ymax?x=y.series_u2p(c.options.ymax):null!=B&&("number"==a.type(B)?x=y.series_u2p(y.max+B):"string"==a.type(B)&&(x=y.series_u2p(y.max)+parseFloat(B))),null!=x&&null!=w){c.gridStart=[z,w],c.gridStop=[z,x];for(var s,t=Math.ceil((w-x)/q),u=w,r=0;t>r;r++)for(var v=0;v<p.length;v+=2)s=u-p[v],x>s&&(s=x),x>u&&(u=x),g.draw([z,u],[z,s],this.canvas._ctx,i),u-=p[v],v<p.length-1&&(u-=p[v+1])}}break;case"rectangle":g.style="line",i.closePath=!0;var j,k,l=b.axes[c.options.xaxis],m=b.axes[c.options.yaxis].series_u2p(c.options.y),n=c.options.xminOffset||c.options.xOffset,o=c.options.xmaxOffset||c.options.xOffset;null!=c.options.xmin?j=l.series_u2p(c.options.xmin):null!=n&&("number"==a.type(n)?j=l.series_u2p(l.min+n):"string"==a.type(n)&&(j=l.series_u2p(l.min)+parseFloat(n))),null!=c.options.xmax?k=l.series_u2p(c.options.xmax):null!=o&&("number"==a.type(o)?k=l.series_u2p(l.max-o):"string"==a.type(o)&&(k=l.series_u2p(l.max)-parseFloat(o)));var w,x,y=b.axes[c.options.yaxis],z=b.axes[c.options.xaxis].series_u2p(c.options.x),A=c.options.yminOffset||c.options.yOffset,B=c.options.ymaxOffset||c.options.yOffset;null!=c.options.ymin?w=y.series_u2p(c.options.ymin):null!=A&&("number"==a.type(A)?w=y.series_u2p(y.min-A):"string"==a.type(A)&&(w=y.series_u2p(y.min)-parseFloat(A))),null!=c.options.ymax?x=y.series_u2p(c.options.ymax):null!=B&&("number"==a.type(B)?x=y.series_u2p(y.max+B):"string"==a.type(B)&&(x=y.series_u2p(y.max)+parseFloat(B))),null!=k&&null!=j&&null!=x&&null!=w&&(c.gridStart=[j,w],c.gridStop=[k,x],this.canvas._ctx.fillStyle=c.options.color,this.canvas._ctx.fillRect(j,w,k-j,x-w))}}}},a.jqplot.CanvasOverlay.postPlotDraw=function(){var b=this.plugins.canvasOverlay;b&&b.highlightCanvas&&(b.highlightCanvas.resetCanvas(),b.highlightCanvas=null),b.canvas=new a.jqplot.GenericCanvas,this.eventCanvas._elem.before(b.canvas.createElement(this._gridPadding,"jqplot-overlayCanvas-canvas",this._plotDimensions,this)),b.canvas.setContext(),b.deferDraw||b.draw(this);var c=document.createElement("div");b._tooltipElem=a(c),c=null,b._tooltipElem.addClass("jqplot-canvasOverlay-tooltip"),b._tooltipElem.css({position:"absolute",display:"none"}),this.eventCanvas._elem.before(b._tooltipElem),this.eventCanvas._elem.bind("mouseleave",{elem:b._tooltipElem},function(a){a.data.elem.hide()});var b=null},a.jqplot.postInitHooks.push(a.jqplot.CanvasOverlay.postPlotInit),a.jqplot.postDrawHooks.push(a.jqplot.CanvasOverlay.postPlotDraw),a.jqplot.eventListenerHooks.push(["jqplotMouseMove",l])}(jQuery);