/*! fks 07-07-2014 */
!function(a){function b(b,c,d){d=d||{},d.axesDefaults=d.axesDefaults||{},d.legend=d.legend||{},d.seriesDefaults=d.seriesDefaults||{};var e=!1;if(d.seriesDefaults.renderer==a.jqplot.DonutRenderer)e=!0;else if(d.series)for(var f=0;f<d.series.length;f++)d.series[f].renderer==a.jqplot.DonutRenderer&&(e=!0);e&&(d.axesDefaults.renderer=a.jqplot.DonutAxisRenderer,d.legend.renderer=a.jqplot.DonutLegendRenderer,d.legend.preDraw=!0,d.seriesDefaults.pointLabels={show:!1})}function c(){for(var b=1;b<this.series.length;b++)if(!this.series[b]._previousSeries.length)for(var c=0;b>c;c++)this.series[b].renderer.constructor==a.jqplot.DonutRenderer&&this.series[c].renderer.constructor==a.jqplot.DonutRenderer&&this.series[b]._previousSeries.push(this.series[c]);for(b=0;b<this.series.length;b++)this.series[b].renderer.constructor==a.jqplot.DonutRenderer&&(this.series[b]._numberSeries=this.series.length,this.series[b].highlightMouseOver&&(this.series[b].highlightMouseDown=!1))}function d(){for(var b=0;b<this.series.length;b++)this.series[b].seriesColors=this.seriesColors,this.series[b].colorGenerator=a.jqplot.colorGenerator}function e(a,b,c){var d=a.series[b],e=a.plugins.donutRenderer.highlightCanvas;e._ctx.clearRect(0,0,e._ctx.canvas.width,e._ctx.canvas.height),d._highlightedPoint=c,a.plugins.donutRenderer.highlightedSeriesIndex=b,d.renderer.drawSlice.call(d,e._ctx,d._sliceAngles[c][0],d._sliceAngles[c][1],d.highlightColors[c],!1)}function f(a){var b=a.plugins.donutRenderer.highlightCanvas;b._ctx.clearRect(0,0,b._ctx.canvas.width,b._ctx.canvas.height);for(var c=0;c<a.series.length;c++)a.series[c]._highlightedPoint=null;a.plugins.donutRenderer.highlightedSeriesIndex=null,a.target.trigger("jqplotDataUnhighlight")}function g(a,b,c,d,g){if(d){var h=[d.seriesIndex,d.pointIndex,d.data],i=jQuery.Event("jqplotDataMouseOver");if(i.pageX=a.pageX,i.pageY=a.pageY,g.target.trigger(i,h),g.series[h[0]].highlightMouseOver&&(h[0]!=g.plugins.donutRenderer.highlightedSeriesIndex||h[1]!=g.series[h[0]]._highlightedPoint)){var j=jQuery.Event("jqplotDataHighlight");j.which=a.which,j.pageX=a.pageX,j.pageY=a.pageY,g.target.trigger(j,h),e(g,h[0],h[1])}}else null==d&&f(g)}function h(a,b,c,d,g){if(d){var h=[d.seriesIndex,d.pointIndex,d.data];if(g.series[h[0]].highlightMouseDown&&(h[0]!=g.plugins.donutRenderer.highlightedSeriesIndex||h[1]!=g.series[h[0]]._highlightedPoint)){var i=jQuery.Event("jqplotDataHighlight");i.which=a.which,i.pageX=a.pageX,i.pageY=a.pageY,g.target.trigger(i,h),e(g,h[0],h[1])}}else null==d&&f(g)}function i(a,b,c,d,e){var g=e.plugins.donutRenderer.highlightedSeriesIndex;null!=g&&e.series[g].highlightMouseDown&&f(e)}function j(a,b,c,d,e){if(d){var f=[d.seriesIndex,d.pointIndex,d.data],g=jQuery.Event("jqplotDataClick");g.which=a.which,g.pageX=a.pageX,g.pageY=a.pageY,e.target.trigger(g,f)}}function k(a,b,c,d,e){if(d){var g=[d.seriesIndex,d.pointIndex,d.data],h=e.plugins.donutRenderer.highlightedSeriesIndex;null!=h&&e.series[h].highlightMouseDown&&f(e);var i=jQuery.Event("jqplotDataRightClick");i.which=a.which,i.pageX=a.pageX,i.pageY=a.pageY,e.target.trigger(i,g)}}function l(){this.plugins.donutRenderer&&this.plugins.donutRenderer.highlightCanvas&&(this.plugins.donutRenderer.highlightCanvas.resetCanvas(),this.plugins.donutRenderer.highlightCanvas=null),this.plugins.donutRenderer={highlightedSeriesIndex:null},this.plugins.donutRenderer.highlightCanvas=new a.jqplot.GenericCanvas;var b=a(this.targetId+" .jqplot-data-label");b.length?a(b[0]).before(this.plugins.donutRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-donutRenderer-highlight-canvas",this._plotDimensions,this)):this.eventCanvas._elem.before(this.plugins.donutRenderer.highlightCanvas.createElement(this._gridPadding,"jqplot-donutRenderer-highlight-canvas",this._plotDimensions,this));this.plugins.donutRenderer.highlightCanvas.setContext();this.eventCanvas._elem.bind("mouseleave",{plot:this},function(a){f(a.data.plot)})}a.jqplot.DonutRenderer=function(){a.jqplot.LineRenderer.call(this)},a.jqplot.DonutRenderer.prototype=new a.jqplot.LineRenderer,a.jqplot.DonutRenderer.prototype.constructor=a.jqplot.DonutRenderer,a.jqplot.DonutRenderer.prototype.init=function(b,e){if(this.diameter=null,this.innerDiameter=null,this.thickness=null,this.padding=20,this.sliceMargin=0,this.ringMargin=null,this.fill=!0,this.shadowOffset=2,this.shadowAlpha=.07,this.shadowDepth=5,this.highlightMouseOver=!0,this.highlightMouseDown=!1,this.highlightColors=[],this.dataLabels="percent",this.showDataLabels=!1,this.dataLabelFormatString=null,this.dataLabelThreshold=3,this.dataLabelPositionFactor=.4,this.dataLabelNudge=0,this.startAngle=0,this.tickRenderer=a.jqplot.DonutTickRenderer,this._drawData=!0,this._type="donut",b.highlightMouseDown&&null==b.highlightMouseOver&&(b.highlightMouseOver=!1),a.extend(!0,this,b),null!=this.diameter&&(this.diameter=this.diameter-this.sliceMargin),this._diameter=null,this._innerDiameter=null,this._radius=null,this._innerRadius=null,this._thickness=null,this._previousSeries=[],this._numberSeries=1,this._sliceAngles=[],this._highlightedPoint=null,0==this.highlightColors.length)for(var f=0;f<this.seriesColors.length;f++){for(var m=a.jqplot.getColorComponents(this.seriesColors[f]),n=[m[0],m[1],m[2]],o=n[0]+n[1]+n[2],p=0;3>p;p++)n[p]=o>570?.8*n[p]:n[p]+.3*(255-n[p]),n[p]=parseInt(n[p],10);this.highlightColors.push("rgb("+n[0]+","+n[1]+","+n[2]+")")}e.postParseOptionsHooks.addOnce(d),e.postInitHooks.addOnce(c),e.eventListenerHooks.addOnce("jqplotMouseMove",g),e.eventListenerHooks.addOnce("jqplotMouseDown",h),e.eventListenerHooks.addOnce("jqplotMouseUp",i),e.eventListenerHooks.addOnce("jqplotClick",j),e.eventListenerHooks.addOnce("jqplotRightClick",k),e.postDrawHooks.addOnce(l)},a.jqplot.DonutRenderer.prototype.setGridData=function(){var a=[],b=[],c=(this.startAngle/180*Math.PI,0);this._drawData=!1;for(var d=0;d<this.data.length;d++)0!=this.data[d][1]&&(this._drawData=!0),a.push(this.data[d][1]),b.push([this.data[d][0]]),d>0&&(a[d]+=a[d-1]),c+=this.data[d][1];for(var e=2*Math.PI/a[a.length-1],d=0;d<a.length;d++)b[d][1]=a[d]*e,b[d][2]=this.data[d][1]/c;this.gridData=b},a.jqplot.DonutRenderer.prototype.makeGridData=function(a){{var b=[],c=[],d=0;this.startAngle/180*Math.PI}this._drawData=!1;for(var e=0;e<a.length;e++)0!=this.data[e][1]&&(this._drawData=!0),b.push(a[e][1]),c.push([a[e][0]]),e>0&&(b[e]+=b[e-1]),d+=a[e][1];for(var f=2*Math.PI/b[b.length-1],e=0;e<b.length;e++)c[e][1]=b[e]*f,c[e][2]=a[e][1]/d;return c},a.jqplot.DonutRenderer.prototype.drawSlice=function(a,b,c,d,e){function f(){c>6.282+this.startAngle&&(c=6.282+this.startAngle,b>c&&(b=6.281+this.startAngle)),b>=c||(a.beginPath(),a.fillStyle=d,a.strokeStyle=d,a.arc(0,0,g,b,c,!1),a.lineTo(h*Math.cos(c),h*Math.sin(c)),a.arc(0,0,h,c,b,!0),a.closePath(),i?a.fill():a.stroke())}var g=this._diameter/2,h=g-this._thickness,i=this.fill;if(a.save(),a.translate(this._center[0],this._center[1]),e)for(var j=0;j<this.shadowDepth;j++)a.save(),a.translate(this.shadowOffset*Math.cos(this.shadowAngle/180*Math.PI),this.shadowOffset*Math.sin(this.shadowAngle/180*Math.PI)),f();else f();if(e)for(var j=0;j<this.shadowDepth;j++)a.restore();a.restore()},a.jqplot.DonutRenderer.prototype.draw=function(b,c,d,e){var f,g=void 0!=d?d:{},h=0,i=0,j=1;if(d.legendInfo&&"insideGrid"==d.legendInfo.placement){var k=d.legendInfo;switch(k.location){case"nw":h=k.width+k.xoffset;break;case"w":h=k.width+k.xoffset;break;case"sw":h=k.width+k.xoffset;break;case"ne":h=k.width+k.xoffset,j=-1;break;case"e":h=k.width+k.xoffset,j=-1;break;case"se":h=k.width+k.xoffset,j=-1;break;case"n":i=k.height+k.yoffset;break;case"s":i=k.height+k.yoffset,j=-1}}for(var l=(void 0!=g.shadow?g.shadow:this.shadow,void 0!=g.showLine?g.showLine:this.showLine,void 0!=g.fill?g.fill:this.fill,b.canvas.width),m=b.canvas.height,n=l-h-2*this.padding,o=m-i-2*this.padding,p=Math.min(n,o),q=p,r=null==this.ringMargin?2*this.sliceMargin:this.ringMargin,f=0;f<this._previousSeries.length;f++)q-=2*this._previousSeries[f]._thickness+2*r;if(this._diameter=this.diameter||q,null!=this.innerDiameter){var s=this._numberSeries>1&&this.index>0?this._previousSeries[0]._diameter:this._diameter;this._thickness=this.thickness||(s-this.innerDiameter-2*r*this._numberSeries)/this._numberSeries/2}else this._thickness=this.thickness||p/2/(this._numberSeries+1)*.85;this._radius=this._diameter/2;this._innerRadius=this._radius-this._thickness;var t=this.startAngle/180*Math.PI;if(this._center=[(l-j*h)/2+j*h,(m-j*i)/2+j*i],this.shadow)for(var u="rgba(0,0,0,"+this.shadowAlpha+")",f=0;f<c.length;f++){var v=0==f?t:c[f-1][1]+t;v+=this.sliceMargin/180*Math.PI,this.renderer.drawSlice.call(this,b,v,c[f][1]+t,u,!0)}for(var f=0;f<c.length;f++){var v=0==f?t:c[f-1][1]+t;v+=this.sliceMargin/180*Math.PI;var w=c[f][1]+t;if(this._sliceAngles.push([v,w]),this.renderer.drawSlice.call(this,b,v,w,this.seriesColors[f],!1),this.showDataLabels&&100*c[f][2]>=this.dataLabelThreshold){var x,y,z=(v+w)/2;"label"==this.dataLabels?(x=this.dataLabelFormatString||"%s",y=a.jqplot.sprintf(x,c[f][0])):"value"==this.dataLabels?(x=this.dataLabelFormatString||"%d",y=a.jqplot.sprintf(x,this.data[f][1])):"percent"==this.dataLabels?(x=this.dataLabelFormatString||"%d%%",y=a.jqplot.sprintf(x,100*c[f][2])):this.dataLabels.constructor==Array&&(x=this.dataLabelFormatString||"%s",y=a.jqplot.sprintf(x,this.dataLabels[f]));var A=this._innerRadius+this._thickness*this.dataLabelPositionFactor+this.sliceMargin+this.dataLabelNudge,B=this._center[0]+Math.cos(z)*A+this.canvas._offsets.left,C=this._center[1]+Math.sin(z)*A+this.canvas._offsets.top,D=a('<span class="jqplot-donut-series jqplot-data-label" style="position:absolute;">'+y+"</span>").insertBefore(e.eventCanvas._elem);B-=D.width()/2,C-=D.height()/2,B=Math.round(B),C=Math.round(C),D.css({left:B,top:C})}}},a.jqplot.DonutAxisRenderer=function(){a.jqplot.LinearAxisRenderer.call(this)},a.jqplot.DonutAxisRenderer.prototype=new a.jqplot.LinearAxisRenderer,a.jqplot.DonutAxisRenderer.prototype.constructor=a.jqplot.DonutAxisRenderer,a.jqplot.DonutAxisRenderer.prototype.init=function(b){this.tickRenderer=a.jqplot.DonutTickRenderer,a.extend(!0,this,b),this._dataBounds={min:0,max:100},this.min=0,this.max=100,this.showTicks=!1,this.ticks=[],this.showMark=!1,this.show=!1},a.jqplot.DonutLegendRenderer=function(){a.jqplot.TableLegendRenderer.call(this)},a.jqplot.DonutLegendRenderer.prototype=new a.jqplot.TableLegendRenderer,a.jqplot.DonutLegendRenderer.prototype.constructor=a.jqplot.DonutLegendRenderer,a.jqplot.DonutLegendRenderer.prototype.init=function(b){this.numberRows=null,this.numberColumns=null,a.extend(!0,this,b)},a.jqplot.DonutLegendRenderer.prototype.draw=function(){if(this.show){var b=this._series,c="position:absolute;";c+=this.background?"background:"+this.background+";":"",c+=this.border?"border:"+this.border+";":"",c+=this.fontSize?"font-size:"+this.fontSize+";":"",c+=this.fontFamily?"font-family:"+this.fontFamily+";":"",c+=this.textColor?"color:"+this.textColor+";":"",c+=null!=this.marginTop?"margin-top:"+this.marginTop+";":"",c+=null!=this.marginBottom?"margin-bottom:"+this.marginBottom+";":"",c+=null!=this.marginLeft?"margin-left:"+this.marginLeft+";":"",c+=null!=this.marginRight?"margin-right:"+this.marginRight+";":"",this._elem=a('<table class="jqplot-table-legend" style="'+c+'"></table>');var d,e,f=!1,g=!1,h=b[0],i=new a.jqplot.ColorGenerator(h.seriesColors);if(h.show){var j=h.data;this.numberRows?(d=this.numberRows,e=this.numberColumns?this.numberColumns:Math.ceil(j.length/d)):this.numberColumns?(e=this.numberColumns,d=Math.ceil(j.length/this.numberColumns)):(d=j.length,e=1);var k,l,m,n,o,p,q,r,s=0;for(k=0;d>k;k++)for(m=g?a('<tr class="jqplot-table-legend"></tr>').prependTo(this._elem):a('<tr class="jqplot-table-legend"></tr>').appendTo(this._elem),l=0;e>l;l++)s<j.length&&(p=this.labels[s]||j[s][0].toString(),r=i.next(),f=g?k==d-1?!1:!0:k>0?!0:!1,q=f?this.rowSpacing:"0",n=a('<td class="jqplot-table-legend" style="text-align:center;padding-top:'+q+';"><div><div class="jqplot-table-legend-swatch" style="border-color:'+r+';"></div></div></td>'),o=a('<td class="jqplot-table-legend" style="padding-top:'+q+';"></td>'),this.escapeHtml?o.text(p):o.html(p),g?(o.prependTo(m),n.prependTo(m)):(n.appendTo(m),o.appendTo(m)),f=!0),s++}}return this._elem};a.jqplot.preInitHooks.push(b),a.jqplot.DonutTickRenderer=function(){a.jqplot.AxisTickRenderer.call(this)},a.jqplot.DonutTickRenderer.prototype=new a.jqplot.AxisTickRenderer,a.jqplot.DonutTickRenderer.prototype.constructor=a.jqplot.DonutTickRenderer}(jQuery);