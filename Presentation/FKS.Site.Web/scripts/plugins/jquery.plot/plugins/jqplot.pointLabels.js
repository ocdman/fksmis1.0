/*! fks 07-07-2014 */
!function(a){a.jqplot.PointLabels=function(b){this.show=a.jqplot.config.enablePlugins,this.location="n",this.labelsFromSeries=!1,this.seriesLabelIndex=null,this.labels=[],this._labels=[],this.stackedValue=!1,this.ypadding=6,this.xpadding=6,this.escapeHTML=!0,this.edgeTolerance=-5,this.formatter=a.jqplot.DefaultTickFormatter,this.formatString="",this.hideZeros=!1,this._elems=[],a.extend(!0,this,b)};var b={nw:0,n:1,ne:2,e:3,se:4,s:5,sw:6,w:7},c=["se","s","sw","w","nw","n","ne","e"];a.jqplot.PointLabels.init=function(b,c,d,e){var f=a.extend(!0,{},d,e);f.pointLabels=f.pointLabels||{},this.renderer.constructor!==a.jqplot.BarRenderer||"horizontal"!==this.barDirection||f.pointLabels.location||(f.pointLabels.location="e"),this.plugins.pointLabels=new a.jqplot.PointLabels(f.pointLabels),this.plugins.pointLabels.setLabels.call(this)},a.jqplot.PointLabels.prototype.setLabels=function(){var b,c=this.plugins.pointLabels;if(b=null!=c.seriesLabelIndex?c.seriesLabelIndex:this.renderer.constructor===a.jqplot.BarRenderer&&"horizontal"===this.barDirection?this._plotData[0].length<3?0:this._plotData[0].length-1:0===this._plotData.length?0:this._plotData[0].length-1,c._labels=[],0===c.labels.length||c.labelsFromSeries)if(c.stackedValue){if(this._plotData.length&&this._plotData[0].length)for(var d=0;d<this._plotData.length;d++)c._labels.push(this._plotData[d][b])}else{var e=this.data;if(this.renderer.constructor===a.jqplot.BarRenderer&&this.waterfall&&(e=this._data),e.length&&e[0].length)for(var d=0;d<e.length;d++)c._labels.push(e[d][b]);e=null}else c.labels.length&&(c._labels=c.labels)},a.jqplot.PointLabels.prototype.xOffset=function(a,b,c){b=b||this.location,c=c||this.xpadding;var d;switch(b){case"nw":d=-a.outerWidth(!0)-this.xpadding;break;case"n":d=-a.outerWidth(!0)/2;break;case"ne":d=this.xpadding;break;case"e":d=this.xpadding;break;case"se":d=this.xpadding;break;case"s":d=-a.outerWidth(!0)/2;break;case"sw":d=-a.outerWidth(!0)-this.xpadding;break;case"w":d=-a.outerWidth(!0)-this.xpadding;break;default:d=-a.outerWidth(!0)-this.xpadding}return d},a.jqplot.PointLabels.prototype.yOffset=function(a,b,c){b=b||this.location,c=c||this.xpadding;var d;switch(b){case"nw":d=-a.outerHeight(!0)-this.ypadding;break;case"n":d=-a.outerHeight(!0)-this.ypadding;break;case"ne":d=-a.outerHeight(!0)-this.ypadding;break;case"e":d=-a.outerHeight(!0)/2;break;case"se":d=this.ypadding;break;case"s":d=this.ypadding;break;case"sw":d=this.ypadding;break;case"w":d=-a.outerHeight(!0)/2;break;default:d=-a.outerHeight(!0)-this.ypadding}return d},a.jqplot.PointLabels.draw=function(d,e,f){var g=this.plugins.pointLabels;g.setLabels.call(this);for(var h=0;h<g._elems.length;h++)g._elems[h].emptyForce();if(g._elems.splice(0,g._elems.length),g.show){var i="_"+this._stackAxis+"axis";g.formatString||(g.formatString=this[i]._ticks[0].formatString,g.formatter=this[i]._ticks[0].formatter);for(var j,k,l=this._plotData,m=(this._prevPlotData,this._xaxis),n=this._yaxis,h=0,o=g._labels.length;o>h;h++){var p=g._labels[h];if(!(null==p||g.hideZeros&&0==parseInt(p,10))){p=g.formatter(g.formatString,p),k=document.createElement("div"),g._elems[h]=a(k),j=g._elems[h],j.addClass("jqplot-point-label jqplot-series-"+this.index+" jqplot-point-"+h),j.css("position","absolute"),j.insertAfter(d.canvas),g.escapeHTML?j.text(p):j.html(p);var q=g.location;(this.fillToZero&&l[h][1]<0||this.fillToZero&&"bar"===this._type&&"horizontal"===this.barDirection&&l[h][0]<0||(this.waterfall&&parseInt(p,10))<0)&&(q=c[b[q]]);var r=m.u2p(l[h][0])+g.xOffset(j,q),s=n.u2p(l[h][1])+g.yOffset(j,q);this._stack&&!g.stackedValue&&("vertical"===this.barDirection?s=(this._barPoints[h][0][1]+this._barPoints[h][1][1])/2+f._gridPadding.top-.5*j.outerHeight(!0):r=(this._barPoints[h][2][0]+this._barPoints[h][0][0])/2+f._gridPadding.left-.5*j.outerWidth(!0)),this.renderer.constructor==a.jqplot.BarRenderer&&("vertical"==this.barDirection?r+=this._barNudge:s-=this._barNudge),j.css("left",r),j.css("top",s);var t=r+j.width(),u=s+j.height(),v=g.edgeTolerance,w=a(d.canvas).position().left,x=a(d.canvas).position().top,y=d.canvas.width+w,z=d.canvas.height+x;(w>r-v||x>s-v||t+v>y||u+v>z)&&j.remove(),j=null,k=null}}}},a.jqplot.postSeriesInitHooks.push(a.jqplot.PointLabels.init),a.jqplot.postDrawSeriesHooks.push(a.jqplot.PointLabels.draw)}(jQuery);